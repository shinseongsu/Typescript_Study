{"code":"import { __extends } from \"tslib\";\r\nimport View from '../core/view';\r\nimport { NewsDetailApi } from '../core/api';\r\nimport { CONTENT_URL } from '../config';\r\nvar template = \"\\n  <div class=\\\"bg-gray-600 min-h-screen pb-8\\\">\\n    <div class=\\\"bg-white text-xl\\\">\\n      <div class=\\\"mx-auto px-4\\\">\\n        <div class=\\\"flex justify-between items-center py-6\\\">\\n          <div class=\\\"flex justify-start\\\">\\n            <h1 class=\\\"font-extrabold\\\">Hacker News</h1>\\n          </div>\\n          <div class=\\\"items-center justify-end\\\">\\n            <a href=\\\"#/page/{{__currentPage__}}\\\" class=\\\"text-gray-500\\\">\\n              <i class=\\\"fa fa-times\\\"></i>\\n            </a>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"h-full border rounded-xl bg-white m-6 p-4 \\\">\\n      <h2>{{__title__}}</h2>\\n      <div class=\\\"text-gray-400 h-20\\\">\\n        {{__content__}}\\n      </div>\\n      {{__comments__}}\\n    </div>\\n  </div>\\n\";\r\nvar NewsDetailView = /** @class */ (function (_super) {\r\n    __extends(NewsDetailView, _super);\r\n    function NewsDetailView(containerId) {\r\n        var _this = _super.call(this, containerId, template) || this;\r\n        _this.render = function (id) {\r\n            var api = new NewsDetailApi(CONTENT_URL.replace('@id', id));\r\n            for (var i = 0; i < window.store.feeds.length; i++) {\r\n                if (window.store.feeds[i].id === Number(id)) {\r\n                    window.store.feeds[i].read = true;\r\n                    break;\r\n                }\r\n            }\r\n            var newsDetail = api.getData();\r\n            _this.setTemplateData('currentPage', window.store.currentPage.toString());\r\n            _this.setTemplateData('title', newsDetail.title);\r\n            _this.setTemplateData('content', newsDetail.content);\r\n            _this.setTemplateData('comments', _this.makeComment(newsDetail.comments));\r\n            _this.updateView();\r\n        };\r\n        return _this;\r\n    }\r\n    NewsDetailView.prototype.makeComment = function (comments) {\r\n        for (var i = 0; i < comments.length; i++) {\r\n            var comment = comments[i];\r\n            this.addHtml(\"\\n        <div style=\\\"padding-left: \" + comment.level * 40 + \"px;\\\" class=\\\"mt-4\\\">\\n          <div class=\\\"text-gray-400\\\">\\n            <i class=\\\"fa fa-sort-up mr-2\\\"></i>\\n            <strong>\" + comment.user + \"</strong> \" + comment.time_ago + \"\\n          </div>\\n          <p class=\\\"text-gray-700\\\">\" + comment.content + \"</p>\\n        </div>      \\n      \");\r\n            if (comment.comments.length > 0) {\r\n                this.addHtml(this.makeComment(comment.comments));\r\n            }\r\n        }\r\n        return this.getHtml();\r\n    };\r\n    return NewsDetailView;\r\n}(View));\r\nexport default NewsDetailView;\r\n","references":["/Users/mac/Desktop/Typescript/typescript-sdk/src/core/view.ts","/Users/mac/Desktop/Typescript/typescript-sdk/src/core/api.ts","/Users/mac/Desktop/Typescript/typescript-sdk/src/types/index.ts","/Users/mac/Desktop/Typescript/typescript-sdk/src/config.ts"],"dts":{"name":"/Users/mac/Desktop/Typescript/typescript-sdk/node_modules/.cache/rollup-plugin-typescript2/placeholder/page/news-detail-view.d.ts","writeByteOrderMark":false,"text":"import View from '../core/view';\r\nexport default class NewsDetailView extends View {\r\n    constructor(containerId: string);\r\n    render: (id: string) => void;\r\n    private makeComment;\r\n}\r\n"}}
